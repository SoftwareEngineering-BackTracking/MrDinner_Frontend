<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Mr.Daebak Dinner Service</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="../assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../css/navbar.css" rel="stylesheet" />
        <link href="../css/cart.css" rel="stylesheet" />
        <link href="../css/cart-box.css" rel="stylesheet" />
    </head>

    <body id="page-top">
        <!-- Navigation-->
        <iframe src="navbar.html" onload="
        this.before((this.contentDocument.body||this.contentDocument).children[0]);this.remove()">
        </iframe> <!-- navbar.html 추가-->

        <header class = 'cart-head'>
            <div class = 'link-box'>
                <div class = 'shipping-box'>
                    <p class = 'normal-shipping' style="font-weight: bold; font-size: 20px;">일반 배송</p>
                    <i class = 'line'>|</i>
                    <p class = 'reservation-shipping' style="font-weight: bold; font-size: 20px;">예약 배송</p>
                </div>
                <div class = 'progress-route-box'>
                    <a style="font-weight: bold; font-size: 20px;">장바구니</a>
                    <p>></p>
                    <a style="font-weight: bold; color: rgb(174, 172, 172); font-size: 20px;">주문/결제</a>
                    <p>></p>
                    <a style="font-weight: bold; color: rgb(174, 172, 172); font-size: 20px;">완료</a>
                </div>
            </div>
            <div class = 'border'></div>
        </header>
        <div class = 'cart-container'>
            <div class = 'ad1'></div>
            <div class = 'cart-subcontainer'>
                <div id = 'cart-test'></div>
                <div class = 'order-box'>
                    <button class = 'order' onclick="location.href = 'orderPay.html'">주문하기</button>
                </div>
            </div>
            
            <div class = 'ad2'></div>
        </div>
    </body>
</html>

<script>
    function selectAll(selectAll)  {
    const checkboxes = document.getElementsByName('cart-each-btn');
    checkboxes.forEach((checkbox) => {
        checkbox.checked = selectAll.checked;
        })
    }

    const minseo = 1;
</script>
<script src="../js/cart.js"></script>

<script language = 'JavaScript'>
    function get_res(){
        var res = fetchCartItem();
    }
    window.onload = fetchCartItem();
    
    res = {
"dtoMetaData": {
"message": "장바구니에 담긴 모든 주문 조회 성공",
"exception": null
},
"cartItems": [
{
"createdDate": null,
"modifiedDate": null,
"cartItemNo": 26,
"cartNo": 1,
"dinner": "발렌타인",
"style": "simple",
"price": 16000
},
{
"createdDate": "2022-11-10T15:24:37.103614",
"modifiedDate": "2022-11-10T15:24:37.103614",
"cartItemNo": 27,
"cartNo": 1,
"dinner": "발렌타인",
"style": "심플",
"price": 18000
}
]
};
    
    var cartTest = document.getElementById('cart-test');

    for(i=0; i<res.cartItems.length; i++){
        cartTest.innerHTML += `
        <div class = 'cart-box'>
        <div class = 'cart-checkbox-box'>
            <input class = 'checkbox' type='checkbox'name='cart' value='contain'/> 
        </div>
        <div class = 'cart-img-box'>
            <div class = 'cart-img'></div>
        </div>
        <div class = 'cart-info-box'>
            <div class = 'title'>${res.cartItems[i].dinner}</div>
            <div class = 'style'>${res.cartItems[i].style}</div>
            <div class = 'hash-tag'>#해시태그</div>
        </div>
        <div class = 'cart-right-box'>
            <button class = 'cart-delete' id = '${i}delete-button' onclick = "deleteCartItem(${res.cartItems[i].cartItemNo})">삭제하기</button>
            <div class = 'cart-price'>${res.cartItems[i].price}원</div>
        </div>
    </div>

        `
        
    }
</script>